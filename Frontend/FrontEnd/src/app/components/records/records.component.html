<div class="contenedor">
  <article> 
<div>   
    <mat-card>
        <div id="myDiagramDiv" style="border: 1px solid black; width: 100%; height: 300px; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); cursor: auto;"><canvas tabindex="0" width="1054" height="298" style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; touch-action: none; width: 1054px; height: 298px; cursor: auto;">This text is displayed if your browser does not support the Canvas HTML element.</canvas><div style="position: absolute; overflow: auto; width: 1054px; height: 298px; z-index: 1;"><div style="position: absolute; width: 1px; height: 1px;"></div></div></div>
        
        
        <mat-accordion>
            <mat-expansion-panel hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Opciones Avanzadas
                </mat-panel-title>
                <mat-panel-description>
                  Guardar, Cargar, Ver en formato JSON
                </mat-panel-description>
              </mat-expansion-panel-header>
        
        <div>
          <button mat-raised-button color="primary" onclick="loadNewMap()">Nuevo Mapa</button>&nbsp; 
          <br>
              <button mat-raised-button id="saveModel" onclick="save()">Save</button>&nbsp; &nbsp; 
              <mat-form-field ppearance="outline" >
            
        <mat-label>Load</mat-label>
        <mat-select>
          <mat-option *ngFor="let Lista of Lista" >  
            <button mat-raised-button color="accent" style="margin-left: 10px;" (click)="cargar(Lista.NOMBRE,Lista.log)" onclick="load();">{{Lista.NOMBRE}}</button>
            <button mat-raised-button color="accent" style="margin-left: 10px;" (click)="eliminar(Lista.NOMBRE)" ><mat-icon>delete_outline</mat-icon></button>

          </mat-option>
        </mat-select>
      </mat-form-field>


      <h3>{{name}}</h3>       
      <p>Modelo en formato JSON:</p>
            </div>
        <div>
          Diagram Model saved in JSON format, automatically updated after each change or undo or redo:
          <textarea id="mySavedModel" style="width:100%;height:250px">{ "class": "GraphLinksModel",
        "copiesArrays": true,
        "copiesArrayObjects": true,
        "linkFromPortIdProperty": "fromPort",
        "linkToPortIdProperty": "toPort",
        "nodeDataArray": [
      {"key":"Record1","fields":[{"name":"field1","info":"","color":"#F7B84B","figure":"Ellipse"},{"name":"field2","info":"the second one","color":"#F25022","figure":"Ellipse"},{"name":"fieldThree","info":"3rd","color":"#00BCF2"}],"loc":"-139 -17"},
      {"key":"Record2","fields":[{"name":"fieldA","info":"","color":"#FFB900","figure":"Diamond"},{"name":"fieldB","info":"","color":"#F25022","figure":"Rectangle"},{"name":"fieldC","info":"","color":"#7FBA00","figure":"Diamond"},{"name":"fieldD","info":"fourth","color":"#00BCF2","figure":"Rectangle"}],"loc":"426 -30"}
      ],
        "linkDataArray": [
      {"from":"Record1","fromPort":"field1","to":"Record2","toPort":"fieldA"},
      {"from":"Record1","fromPort":"field2","to":"Record2","toPort":"fieldD"},
      {"from":"Record1","fromPort":"fieldThree","to":"Record2","toPort":"fieldB"},
      {"from":"Record1","to":"Record2","fromPort":"fieldThree","toPort":"fieldA"},
      {"from":"Record1","to":"Record2","fromPort":"field1","toPort":"fieldC"}
      ]}</textarea>

        </div>

            </mat-expansion-panel>

            <mat-expansion-panel hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Ayuda
                </mat-panel-title>
                <mat-panel-description>
                  CÃ³mo usar el Diagrama/Mapa
                </mat-panel-description>
              </mat-expansion-panel-header>
              <p>This is the primary content of the panel.</p>
            </mat-expansion-panel>
            
        </mat-accordion>
        <button mat-raised-button color="warn" onclick="printDiagram()">Imprimir en formato .PDF</button> &nbsp;
        <button mat-raised-button color="primary" onclick="saveSvg()">Guardar en formato .SVG</button>
    </mat-card>
</div>

</article>

<div class="overlay" id="overlay">
  <div class="popup" id="popup">
    <h3>Guardado</h3>
    <form class="form" method="post" action="#">
    <form [formGroup]="form">
      <div class="contenedor-inputs">
        <input type="text" placeholder="Nombre" formControlName="NAME" >
      </div>
      <input type="submit"  id="btn-cerrar-popup" class="btn-submit" value="Enviar" (click)="Saved()">
      <input type="submit"  id="btn-cerrar-popup_" class="btn-submit" value="Cerrar">
    </form>
  </form>
  </div>
</div>

</div>

